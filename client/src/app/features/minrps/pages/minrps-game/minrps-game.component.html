<div class="flex h-full flex-col text-center">
  <!-- OPPONENT SIDE -->
  <div class="flex basis-1/2 flex-col justify-evenly">
    <!-- MESSAGES -->
    <div class="relative mx-auto w-fit">
      <div class="rounded-lg border-8 border-double border-black bg-white px-2 py-1 shadow-2xl">
        <p class="text-sm" [innerHTML]="message()"></p>
      </div>
    </div>

    <!-- OPPONENT AVATAR -->
    <div class="flex w-full flex-row justify-center">
      <minrps-card>
        <img src="assets/svg/robot-antennas.svg" alt="Rock" class="h-16 w-16" />
      </minrps-card>
    </div>

    <!-- OPPONENT MOVE -->
    <div class="flex w-full flex-row justify-evenly gap-2">
      @if (playedVillainMove() !== MinRPSMove.None) {
        <minrps-card [result]="result()">
          <img
            class="h-16 w-16"
            [alt]="playedVillainMove()"
            [src]="`assets/svg/${playedVillainMove()}.svg`"
          />
        </minrps-card>
      } @else {
        <minrps-card>
          <img src="assets/svg/uncertainty.svg" alt="?" class="h-16 w-16" />
        </minrps-card>
      }
    </div>
  </div>

  <!-- DIVIDER -->
  <div class="flex flex-row justify-center">
    <min-divider class="basis-3/4"></min-divider>
  </div>

  <!-- PLAYER SIDE -->
  <div class="flex basis-1/2 flex-col justify-evenly">
    <!-- PLAYER MOVES -->
    <div class="flex w-full flex-row justify-evenly gap-2">
      @for (heroMove of heroMoves; track $index) {
        <minrps-move
          [isDisabled]="playedHeroMove() !== MinRPSMove.None && playedHeroMove() !== heroMove"
          [isPlayed]="playedHeroMove() === heroMove"
          [isSelected]="selectedHeroMove() === heroMove"
          [result]="result()"
          (selected)="selectedHeroMove.set(heroMove)"
        >
          <img [src]="`assets/svg/${heroMove}.svg`" [alt]="heroMove" class="h-16 w-16" />
        </minrps-move>
      }
    </div>

    <!-- ACTION BUTTON -->
    <div class="flex w-full flex-row justify-center">
      <min-button
        class="basis-3xs"
        [color]="Color.Blue"
        [disabled]="selectedHeroMove() === MinRPSMove.None || playedHeroMove() !== MinRPSMove.None"
        (clicked)="startGame()"
      >
        {{ buttonText() }}
      </min-button>
    </div>
  </div>
</div>
