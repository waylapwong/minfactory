<div class="flex h-full flex-col text-center">
  <!-- OPPONENT SIDE -->
  <div class="flex basis-1/2 flex-col justify-evenly">
    <!-- MESSAGES -->
    <div class="relative mx-auto w-fit">
      <div class="rounded-lg border-8 border-double border-black bg-white px-2 py-1 shadow-2xl">
        <p class="text-sm" [innerHTML]="message()"></p>
      </div>
    </div>
    <!-- OPPONENT AVATAR -->
    <div class="flex w-full flex-row justify-center">
      <minrps-card>
        <img src="assets/svg/robot-antennas.svg" alt="Rock" class="h-16 w-16" />
      </minrps-card>
    </div>
    <!-- OPPONENT MOVES -->
    <div class="flex w-full flex-row justify-evenly gap-2">
      @for (i of [0, 1, 2]; track $index) {
        @if (playedVillainMove() === MinRPSMove.Rock) {
          <minrps-card [result]="result()">
            <img src="assets/svg/rock.svg" alt="Rock" class="h-16 w-16" />
          </minrps-card>
        }
        @if (playedVillainMove() === MinRPSMove.Paper) {
          <minrps-card [result]="result()">
            <img src="assets/svg/paper.svg" alt="Rock" class="h-16 w-16" />
          </minrps-card>
        }
        @if (playedVillainMove() === MinRPSMove.Scissors) {
          <minrps-card [result]="result()">
            <img src="assets/svg/scissors.svg" alt="Rock" class="h-16 w-16" />
          </minrps-card>
        } @else {
          <minrps-card>
            <img src="assets/svg/uncertainty.svg" alt="Rock" class="h-16 w-16" />
          </minrps-card>
        }
      }
    </div>
  </div>

  <!-- DIVIDER -->
  <div class="flex flex-row justify-center">
    <min-divider class="basis-3/4"></min-divider>
  </div>

  <!-- PLAYER SIDE -->
  <div class="flex basis-1/2 flex-col justify-evenly">
    <!-- PLAYER MOVES -->
    <div class="flex w-full flex-row justify-evenly gap-2">
      <minrps-move
        [isDisabled]="playedHeroMove() !== MinRPSMove.None && playedHeroMove() !== MinRPSMove.Rock"
        [isPlayed]="playedHeroMove() === MinRPSMove.Rock"
        [isSelected]="selectedHeroMove() === MinRPSMove.Rock"
        [result]="result()"
        (selected)="selectedHeroMove.set(MinRPSMove.Rock)"
      >
        <img src="assets/svg/rock.svg" alt="Rock" class="h-16 w-16" />
      </minrps-move>
      <minrps-move
        [isDisabled]="playedHeroMove() !== MinRPSMove.None && playedHeroMove() !== MinRPSMove.Paper"
        [isPlayed]="playedHeroMove() === MinRPSMove.Paper"
        [isSelected]="selectedHeroMove() === MinRPSMove.Paper"
        [result]="result()"
        (selected)="selectedHeroMove.set(MinRPSMove.Paper)"
      >
        <img src="assets/svg/paper.svg" alt="Paper" class="h-16 w-16" />
      </minrps-move>
      <minrps-move
        [isDisabled]="
          playedHeroMove() !== MinRPSMove.None && playedHeroMove() !== MinRPSMove.Scissors
        "
        [isPlayed]="playedHeroMove() === MinRPSMove.Scissors"
        [isSelected]="selectedHeroMove() === MinRPSMove.Scissors"
        [result]="result()"
        (selected)="selectedHeroMove.set(MinRPSMove.Scissors)"
      >
        <img src="assets/svg/scissors.svg" alt="Scissors" class="h-16 w-16" />
      </minrps-move>
    </div>

    <!-- ACTION BUTTON -->
    <div class="flex w-full flex-row justify-center">
      <min-button
        class="basis-3xs"
        [color]="Color.Blue"
        [disabled]="selectedHeroMove() === MinRPSMove.None || playedHeroMove() !== MinRPSMove.None"
        (clicked)="startGame()"
      >
        {{ buttonText() }}
      </min-button>
    </div>
  </div>
</div>
